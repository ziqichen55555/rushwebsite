{% extends 'base.html' %}

{% block title %}Our Locations - Rush Car Rental{% endblock %}

{% block content %}
<!-- Enhanced Breadcrumb -->
<div class="breadcrumb-container py-2">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb breadcrumb-custom mb-0">
                <li class="breadcrumb-item">
                    <a href="{% url 'home' %}" class="breadcrumb-home">
                        <i class="fas fa-home"></i> Home
                    </a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    <i class="fas fa-map-marker-alt"></i> Locations
                </li>
            </ol>
        </nav>
    </div>
</div>

<section class="py-5">
    <div class="container">
        <h1 class="mb-4">Our Locations</h1>
        
        <div class="row mb-4">
            <div class="col-md-8">
                <p class="lead">With multiple locations across Australia, we make it easy for you to pick up and drop off your rental car wherever it's most convenient for you.</p>
            </div>
            <div class="col-md-4">
                <div class="input-group">
                    <select class="form-select" id="state-filter">
                        <option value="">All States</option>
                        {% for state in states %}
                        <option value="{{ state.code }}" {% if current_state == state.code %}selected{% endif %}>{{ state.name }}</option>
                        {% endfor %}
                    </select>
                    <button class="btn btn-warning" type="button" id="filter-button">Filter</button>
                </div>
            </div>
        </div>
        
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for location in locations %}
            <div class="col">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">{{ location.name }}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{ location.city }}, {{ location.state.code }}</h6>
                        
                        <p class="card-text mt-3">
                            <i class="fas fa-map-marker-alt text-warning me-2"></i> {{ location.address }}<br>
                            <i class="fas fa-phone text-warning me-2"></i> {{ location.phone }}<br>
                            <i class="fas fa-envelope text-warning me-2"></i> {{ location.email }}
                        </p>
                        
                        <div class="mt-3">
                            <h6>Opening Hours</h6>
                            <p class="small">{{ location.opening_hours }}</p>
                        </div>
                        
                        {% if location.is_airport %}
                        <div class="mt-3">
                            <span class="badge bg-info">Airport Location</span>
                        </div>
                        {% endif %}
                    </div>
                    <div class="card-footer bg-transparent">
                        <a href="{% url 'car_list' %}?pickup_location={{ location.name }}" class="btn btn-warning">See Available Cars</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12">
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle me-2"></i> No locations found for the selected filter.
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Australia Map Section -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-4">Our Coverage</h2>
        <div class="row align-items-center">
            <div class="col-md-6">
                <div class="text-center">
                    <!-- Using an SVG for Australia map instead of an image -->
                    <svg width="400" height="400" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
                        <path d="M566.7,201.8c-3.9-4.3-7.9-8.5-11.9-12.8c-0.5-0.5-1-1.1-1.6-1.5c-2.5-1.8-5.2-3.5-8.1-4.6
                        c-10.8-4-18.9-11.3-25.8-20.3c-4-5.3-9.4-9.4-15.8-11.5c-2.8-0.9-5.6-1.9-8.4-2.8c-5.8-1.9-11-4.7-15.8-8.4
                        c-2.9-2.2-5.9-4.3-9.2-5.9c-2.5-1.2-5.1-2.2-7.7-3.3c-2.2-0.9-3.8-2.6-5.3-4.4c-5.7-7-12.9-11.7-21.5-14.3
                        c-2.7-0.8-5.4-1.6-8-2.6c-3.7-1.4-7.1-3.4-10.2-5.9c-3.1-2.5-6.1-5.1-9.5-7.2c-6.5-4-13.7-5.9-21.2-7.3
                        c-14.8-2.8-28.5-8.4-41.6-15.8c-6-3.4-12.4-6.1-19-8.1c-7-2.1-14.2-3.2-21.5-3.6c-8.3-0.5-16.5-1.7-24.7-2.5
                        c-4.4-0.5-8.9-0.9-13.3-1.2c-11-0.8-21.9,0.3-32.7,2.5c-9.9,2-19.6,4.8-29.3,7.5c-3.6,1-7.1,2-10.7,2.9
                        c-8.8,2.2-17.7,4.1-26.5,6.3c-7.5,1.9-14.9,4-22.2,6.5c-8.2,2.8-16.4,5.7-24.5,8.9c-6.4,2.5-12.7,5.4-18.9,8.5
                        c-5.4,2.8-10.8,5.7-16.1,8.7c-5.5,3.1-10.9,6.4-16.3,9.8c-2.8,1.8-5.5,3.9-8.2,5.9c-2.4,1.8-4.8,3.7-7.1,5.6
                        c-3.1,2.4-6.1,4.9-9.1,7.5c-3.8,3.2-7.6,6.4-11.2,9.8c-1.9,1.8-3.5,3.8-5.2,5.7c-2.4,2.7-4.7,5.4-7.1,8
                        c-0.2,0.2-0.5,0.4-0.8,0.5c-3.7,1.2-6.6,3.7-9,6.8c-3.2,4.2-6.5,8.4-10.7,11.8c-1.8,1.5-3.6,3-5.4,4.4
                        c-1.4,1.1-2.8,2.2-4.3,3.2c-2.7,1.8-5.1,4-7.2,6.5c-2.8,3.4-5.7,6.6-9.2,9.3c-1.4,1.1-2.8,2.2-4.1,3.4
                        c-1.4,1.2-2.7,2.6-4,3.9c-3.2,3.1-6.3,6.2-9.5,9.3c-1.3,1.3-2.7,2.5-4.1,3.7c-1.7,1.5-3.2,3.1-4.6,4.9
                        c-2.6,3.3-5.5,6.3-9,8.7c-0.6,0.4-1.3,0.9-1.9,1.4c-0.7,0.5-1.5,1-2.1,1.6c-2.4,2.4-4.9,4.8-7.3,7.3
                        c-0.1,0.1-0.3,0.3-0.4,0.4c-4.2,3.4-7.2,7.7-10,12.1c-2.1,3.3-4.3,6.5-7,9.4c-0.8,0.9-1.6,1.9-2.3,2.9
                        c-2.1,2.9-4.2,5.8-6.6,8.5c-0.9,1-1.8,2-2.7,3c-1,1-2,2-3,3.1c-1.8,2.1-3.1,4.4-3.8,7c-0.8,3-1.6,5.9-2.5,8.9
                        c-0.5,1.6-1.2,3.1-1.7,4.7c-0.9,2.9-1.6,5.9-2.4,8.8c-0.5,1.8-1.1,3.6-1.5,5.4c-0.5,2.1-0.9,4.3-1.2,6.5
                        c-0.3,2-0.6,4-0.7,6.1c-0.2,4.1-0.5,8.2-0.5,12.3c0,3.3,0.3,6.6,0.6,9.9c0.2,1.7,0.6,3.4,1,5.1c0.2,1,0.4,2.1,0.7,3.1
                        c0.4,1.4,0.8,2.7,1.3,4c0.6,1.6,1.7,2.9,2.7,4.3c1.4,1.9,2.8,3.7,4.7,5.1c3.6,2.7,7.2,5.4,10.9,7.9c1.8,1.2,3.7,2.3,5.7,3.2
                        c4.9,2.2,9.8,4.4,14.7,6.6c2.8,1.3,5.5,2.7,8.3,4c1,0.5,2.1,0.9,3.2,1.3c3.7,1.3,7.2,3,10.9,4.3c4.8,1.7,9.7,3,14.6,4.4
                        c4.1,1.2,8.3,2.3,12.4,3.4c0.5,0.1,1,0.2,1.5,0.3c5.8,0.8,11.2,3.1,16.8,4.7c5.3,1.5,10.7,2.7,16.1,3.9
                        c4.3,0.9,8.6,2,12.9,2.9c4.5,0.9,8.9,2,13.4,2.5c10.6,1.3,21.3,2.4,32,3.3c7.3,0.6,14.5,1.5,21.7,2.1
                        c10.1,0.8,20.3,0.5,30.4,0.7c3.8,0.1,7.6,0.2,11.4,0.1c11.3-0.4,22.5-1.1,33.7-2.8c8.9-1.3,17.7-2.8,26.5-4.5
                        c7-1.4,13.9-3,20.9-4.6c4.3-1,8.6-1.9,12.9-3c5.3-1.4,10.6-2.9,15.8-4.5c5-1.6,10-3.2,15-4.9c5.4-1.8,10.8-3.7,16.1-5.6
                        c5.9-2.1,11.9-4.2,17.8-6.4c5.4-1.9,10.7-3.9,16-6c3.8-1.5,7.5-3.2,11.2-4.9c2.4-1.1,4.7-2.4,7-3.6c5-2.7,10-5.4,15-8.1
                        c4.9-2.7,9.9-5.2,14.7-8c4.4-2.5,8.8-5.1,13-7.9c3.9-2.6,7.8-5.4,11.6-8.2c3.7-2.7,7.4-5.5,11-8.3c1.7-1.3,3.3-2.8,5-4.2
                        c0.8-0.7,1.7-1.3,2.5-2c2.2-1.7,4.5-3.4,6.7-5.2c3.3-2.7,6.5-5.6,9.8-8.4c1.9-1.6,3.7-3.2,5.5-4.8c2.3-2,4.5-4,6.7-6.1
                        c3.5-3.3,7-6.7,10.4-10.2c6.1-6.3,12-12.7,17.8-19.3c2.8-3.2,5.6-6.3,8.3-9.6c2.5-3,4.8-6,7-9.2c1.9-2.8,3.6-5.6,5.4-8.5
                        c2.2-3.7,4.4-7.4,6.3-11.2c1.9-3.9,3.9-7.8,5.3-11.9c1.2-3.5,2.2-7.1,3.1-10.7c0.6-2.4,1.1-4.9,1.5-7.3
                        c0.8-4.5,1.6-9,2.2-13.5c0.3-2.3,0.4-4.7,0.4-7.1c0-1.4-0.2-2.9-0.3-4.3c-0.3-3.2-0.6-6.4-1.1-9.5c-0.7-4.5-1.7-9-2.8-13.4
                        c-0.5-1.9-1.3-3.7-1.9-5.6c-0.3-0.8-0.5-1.6-0.8-2.3C568.6,205.3,567.6,203.6,566.7,201.8z" 
                        fill="#ffd100" stroke="#000" stroke-width="5"/>
                        <!-- VIC Location Dot -->
                        <circle cx="500" cy="550" r="15" fill="#000"/>
                        <!-- Perth Location Dot -->
                        <circle cx="120" cy="420" r="15" fill="#000"/>
                        <!-- NSW Location Dot -->
                        <circle cx="550" cy="480" r="15" fill="#000"/>
                    </svg>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card border-0 bg-transparent">
                    <div class="card-body">
                        <h4 class="card-title border-bottom pb-2 mb-3">Our Main Locations</h4>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item bg-transparent d-flex align-items-center">
                                <span class="location-dot bg-dark me-3"></span>
                                <div>
                                    <h5 class="mb-1">Victoria (VIC)</h5>
                                    <p class="mb-0 text-muted">Multiple locations across Melbourne and regional Victoria</p>
                                </div>
                            </li>
                            <li class="list-group-item bg-transparent d-flex align-items-center">
                                <span class="location-dot bg-dark me-3"></span>
                                <div>
                                    <h5 class="mb-1">Perth</h5>
                                    <p class="mb-0 text-muted">Airport and city center locations available</p>
                                </div>
                            </li>
                            <li class="list-group-item bg-transparent d-flex align-items-center">
                                <span class="location-dot bg-dark me-3"></span>
                                <div>
                                    <h5 class="mb-1">New South Wales (NSW)</h5>
                                    <p class="mb-0 text-muted">Sydney and surrounding area locations</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterButton = document.getElementById('filter-button');
    const stateFilter = document.getElementById('state-filter');
    
    filterButton.addEventListener('click', function() {
        const selectedState = stateFilter.value;
        window.location.href = `{% url 'location_list' %}${selectedState ? '?state=' + selectedState : ''}`;
    });
});
</script>
{% endblock %}
