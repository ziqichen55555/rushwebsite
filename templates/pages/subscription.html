{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block title %}Car Subscription - Rush Car Rental{% endblock %}

{% block extra_css %}
<style>
    .subscription-header {
        background-color: #f8f9fa;
        padding: 60px 0 30px;
        margin-bottom: 30px;
    }
    
    .subscription-title {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 20px;
    }
    
    .filter-btn {
        padding: 8px 20px;
        margin-right: 10px;
        margin-bottom: 10px;
        border-radius: 4px;
        font-weight: 500;
        transition: all 0.3s;
    }
    
    .filter-btn.active {
        background-color: #ffdd00;
        color: #333;
        border-color: #ffdd00;
    }
    
    .filter-btn:not(.active) {
        background-color: #fff;
        color: #666;
        border: 1px solid #ddd;
    }
    
    .filter-btn:hover {
        background-color: #ffdd00;
        color: #333;
    }
    
    .subscription-card {
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: transform 0.3s;
        height: 100%;
        position: relative;
    }
    
    .subscription-card:hover {
        transform: translateY(-5px);
    }
    
    .great-value-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background-color: #ffdd00;
        color: #333;
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: 500;
        z-index: 1;
    }
    
    .subscription-image {
        height: 200px;
        object-fit: cover;
        width: 100%;
    }
    
    .availability-badge {
        display: inline-flex;
        align-items: center;
        background-color: #e8f5e9;
        color: #2e7d32;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 0.9rem;
        margin-bottom: 15px;
    }
    
    .availability-badge i {
        margin-right: 5px;
    }
    
    .vehicle-make {
        font-weight: 500;
        color: #666;
        margin-bottom: 0;
    }
    
    .vehicle-model {
        font-size: 1.25rem;
        font-weight: bold;
        margin-bottom: 15px;
    }
    
    .price-label {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0;
    }
    
    .price-value {
        font-size: 1.5rem;
        font-weight: bold;
        color: #333;
    }
    
    .why-choose-section {
        background-color: #f8f9fa;
        padding: 60px 0;
        margin: 40px 0;
    }
    
    .benefit-card {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    }
    
    .benefit-icon {
        width: 60px;
        height: 60px;
        margin-bottom: 15px;
    }
    
    .hero-section {
        position: relative;
        height: 500px;
        background-size: cover;
        background-position: center;
        color: #fff;
        margin-bottom: 40px;
    }
    
    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        display: flex;
        align-items: center;
    }
    
    .hero-content {
        max-width: 600px;
    }
    
    .hero-title {
        font-size: 3rem;
        font-weight: bold;
        margin-bottom: 20px;
    }
    
    .hero-text {
        font-size: 1.2rem;
        margin-bottom: 30px;
    }
    
    .cta-button {
        background-color: #ffdd00;
        color: #333;
        font-weight: 500;
        padding: 10px 25px;
        border-radius: 4px;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s;
    }
    
    .cta-button:hover {
        background-color: #ffd000;
        transform: translateY(-2px);
    }
    
    .all-inclusive-section {
        padding: 60px 0;
        background-color: #f8f9fa;
    }
    
    .all-inclusive-title {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 30px;
    }
    
    @media (max-width: 768px) {
        .subscription-title {
            font-size: 2rem;
        }
        
        .hero-title {
            font-size: 2.2rem;
        }
        
        .hero-section {
            height: 400px;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Banner -->
<section class="hero-section" style="background-color: #696969;">
    <div class="hero-overlay" style="background: rgba(0,0,0,0.2);">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Flexible & Convenient Car Subscription</h1>
                <p class="hero-text">No long-term contracts, no hidden fees. Our all-inclusive car subscription service makes your travel easier and more flexible.</p>
                <a href="#subscription-cars" class="cta-button">Browse Available Cars</a>
            </div>
        </div>
    </div>
</section>

<!-- Car Search Section -->
<section class="car-search-section py-4 bg-light">
    <div class="container">
        <div class="row mb-3">
            <div class="col-12 text-center">
                <h3 class="mb-2">Explore over 95+ models and find the car that suits your needs</h3>
                <div class="rating-display">
                    <i class="fas fa-star text-warning"></i>
                    <i class="fas fa-star text-warning"></i>
                    <i class="fas fa-star text-warning"></i>
                    <i class="fas fa-star text-warning"></i>
                    <i class="fas fa-star text-warning"></i>
                    <span class="ms-2">4.9 rating (based on 500+ reviews)</span>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="filter-section p-3 bg-white rounded shadow-sm">
                    <form id="filterForm" class="row g-3">
                        <!-- Pickup Location Filter -->
                        <div class="col-md-3">
                            <label for="pickup_location" class="form-label">Pickup Location</label>
                            <select class="form-select" id="pickup_location" name="pickup_location">
                                <option value="">All Locations</option>
                                {% for location in locations %}
                                <option value="{{ location.name }}" {% if location.name == selected_location %}selected{% endif %}>
                                    {{ location.name }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <!-- Fuel Type Filter -->
                        <div class="col-md-3">
                            <label for="fuel_type" class="form-label">Fuel Type</label>
                            <select class="form-select" id="fuel_type" name="fuel_type">
                                <option value="">All Types</option>
                                {% for type in fuel_types %}
                                <option value="{{ type }}" {% if type == selected_fuel_type %}selected{% endif %}>
                                    {{ type }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        <!--car category filter-->
                        <div class="col-md-3">
                            <label for="car_category" class="form-label">Car Category</label>
                            <select class="form-select" id="car_category" name="car_category">
                                <option value="">All Categories</option>
                            </select>
                            {% for category in car_categories %}
                            <option value="{{ category.name }}" {% if category.name == selected_car_category %}selected{% endif %}>
                                {{ category.name }}
                            </option>
                            {% endfor %}
                        </div>
                       
                        <!-- seat number filter -->
                        <div class="col-md-3">
                            <label for="seat_number" class="form-label">Seat Number</label>
                            <select class="form-select" id="seat_number" name="seat_number">
                                <option value="">All Seat Numbers</option>
                                {% for seat_number in seat_numbers %}
                                <option value="{{ seat_number }}" {% if seat_number == selected_seat_number %}selected{% endif %}>
                                    {{ seat_number }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Subscription Cars Section -->
<section id="subscription-cars" class="py-5">
    <div class="container">
        <div class="row">
            {% for vehicle in subscription_vehicles %}
            <div class="col-md-4 mb-4">
                <div class="subscription-card">
                    {% if vehicle.is_great_value %}
                    <div class="great-value-badge">Great Value</div>
                    {% endif %}
                    <img src="{{ vehicle.get_image_url }}" alt="{{ vehicle.name|default:vehicle.vehicle_category }}" class="subscription-image">
                    <div class="p-3">
                        <div class="availability-badge">
                            <i class="fas fa-check-circle"></i> Available Now
                        </div>
                        <p class="vehicle-make">{{ vehicle.make }}</p>
                        <h3 class="vehicle-model">{{ vehicle.model }}</h3>
                        <p class="price-label">Weekly Rate</p>
                        <p class="price-value">${{ vehicle.daily_rate|multiply:7 }}</p>
                        <a href="{% url 'bookings:create' %}?vehicle_id={{ vehicle.id }}" class="btn btn-primary w-100">Book Now</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="lead">No vehicles found matching your criteria. Please try different filters.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Why Choose Us -->
<section class="why-choose-section">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-5">
            <h2 class="mb-0">Why Choose Rush Car Subscription?</h2>
            <a href="{% url 'about_us' %}" class="btn btn-link text-dark">About Us <i class="fas fa-arrow-right ms-1"></i></a>
        </div>
        
        <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
            <div class="col">
                <div class="p-4 h-100">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-star text-warning me-3 fa-2x"></i>
                        <h5 class="mb-0">Trusted by Customers</h5>
                    </div>
                    <p class="text-muted">
                        With a 4.9-star Google rating, we strive to make your car experience as pleasant as possible. That's why we don't believe in hidden fees! With Rush Car Subscription, there are no application, setup, or swap fees!
                    </p>
                </div>
            </div>
            
            <div class="col">
                <div class="p-4 h-100">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-car text-warning me-3 fa-2x"></i>
                        <h5 class="mb-0">Simple Subscription Model</h5>
                    </div>
                    <p class="text-muted">
                        Rush's all-inclusive car subscription model is different from others, offering only new cars and the option to upgrade or switch to another new car at the end of your plan. Our application process is fast, with no credit checks or large upfront payments.
                    </p>
                </div>
            </div>
            
            <div class="col">
                <div class="p-4 h-100">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-headset text-warning me-3 fa-2x"></i>
                        <h5 class="mb-0">Professional Service Team</h5>
                    </div>
                    <p class="text-muted">
                        You can pick up your new car from a local Rush service point the same day. Rest assured, we will take care of you throughout your subscription.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- All-Inclusive Service Section -->
<section class="all-inclusive-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-5 mb-4 mb-lg-0">
                <h2 class="all-inclusive-title">What Does All-Inclusive Mean?</h2>
                <div class="mb-4">
                    <h5 class="mb-3">A Brand New Car Experience</h5>
                    <p class="text-muted">
                        The cost of the car is included. Rush ensures our cars are always new, with a mileage limit of 15,000 km, giving you a permanent new car experience.
                    </p>
                </div>
                <a href="{% url 'subscription' %}" class="btn btn-dark px-4 py-2">Contact Us <i class="fas fa-arrow-right ms-2"></i></a>
            </div>
            
            <div class="col-lg-7">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                    <!-- Service Items -->
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <rect x="20" y="20" width="60" height="60" rx="10" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <circle cx="35" cy="40" r="8" fill="#5dcbb0" />
                                <path d="M20 65 H80" stroke="#5dcbb0" stroke-width="4" />
                            </svg>
                            <h6>New Car Experience</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <rect x="25" y="20" width="50" height="60" rx="5" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <rect x="35" y="35" width="10" height="10" fill="#5dcbb0" />
                                <rect x="55" y="35" width="10" height="10" fill="#5dcbb0" />
                                <rect x="35" y="55" width="30" height="5" fill="#5dcbb0" />
                            </svg>
                            <h6>Vehicle Registration</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <path d="M20 50 L40 30 L80 70 L60 90 Z" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <path d="M60 40 L70 50" stroke="#5dcbb0" stroke-width="4" stroke-linecap="round" />
                            </svg>
                            <h6>Maintenance & Service</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <path d="M30 60 H70" stroke="#5dcbb0" stroke-width="4" />
                                <rect x="20" y="60" width="60" height="10" rx="5" fill="#5dcbb0" />
                                <path d="M30 60 Q50 30 70 60" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <rect x="45" y="40" width="10" height="10" rx="2" fill="#5dcbb0" />
                            </svg>
                            <h6>Roadside Assistance</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <path d="M50 20 L85 40 L85 70 L50 90 L15 70 L15 40 Z" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <circle cx="50" cy="55" r="10" fill="#5dcbb0" />
                            </svg>
                            <h6>Car Insurance</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <rect x="20" y="20" width="30" height="60" rx="2" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <rect x="50" y="20" width="30" height="60" rx="2" stroke="#5dcbb0" stroke-width="4" fill="none" />
                            </svg>
                            <h6>Flexible Plans</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="30" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <path d="M50 30 L50 50 L70 50" stroke="#5dcbb0" stroke-width="4" stroke-linecap="round" />
                            </svg>
                            <h6>High Mileage</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="30" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <path d="M35 50 L65 50" stroke="#5dcbb0" stroke-width="4" stroke-linecap="round" />
                                <path d="M50 35 L50 65" stroke="#5dcbb0" stroke-width="4" stroke-linecap="round" />
                            </svg>
                            <h6>No Hidden Fees</h6>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="benefit-card">
                            <svg class="benefit-icon" style="width: 60px; height: 60px; fill: #5dcbb0;" viewBox="0 0 100 100">
                                <rect x="25" y="25" width="50" height="50" rx="5" stroke="#5dcbb0" stroke-width="4" fill="none" />
                                <path d="M25 40 H75" stroke="#5dcbb0" stroke-width="4" />
                                <rect x="45" y="15" width="10" height="20" fill="#5dcbb0" />
                            </svg>
                            <h6>No Long-Term Contracts</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Subscription Application Section -->
<section class="apply-section py-5 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="car-top-view-container">
                    <img src="{% static 'images/pics/bz.jpg' %}" alt="Car Top View" class="img-fluid rounded">
                </div>
            </div>
            <div class="col-lg-6">
                <h2 class="mb-4">Apply for Rush Car Subscription</h2>
                <p class="mb-4">The Rush car subscription application process is quick and easy, just as a car subscription service should be. No credit checks or financing required, and you can complete your application in 5 minutes with instant pre-approval. No application fees, flexible cancellation policy, and you can easily subscribe to your dream car.</p>
                
                <div class="apply-steps">
                    <div class="apply-step d-flex align-items-start mb-4">
                        <div class="step-icon me-3 text-success">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="step-content">
                            <h5>Complete Application in Minutes</h5>
                            <p class="text-muted">No credit checks or financing required, and you can complete your application in 5 minutes with instant pre-approval.</p>
                        </div>
                    </div>
                    
                    <div class="apply-step d-flex align-items-start mb-4">
                        <div class="step-icon me-3 text-success">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="step-content">
                            <h5>We Will Contact You</h5>
                            <p class="text-muted">Your dedicated consultant will contact you to find the car and subscription plan that suits your needs.</p>
                        </div>
                    </div>
                    
                    <div class="apply-step d-flex align-items-start mb-4">
                        <div class="step-icon me-3 text-success">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="step-content">
                            <h5>Pick Up and Drive Same Day</h5>
                            <p class="text-muted">If your chosen car is in stock, you can pick it up and start your subscription journey the same day!</p>
                        </div>
                    </div>
                </div>
                
                <div class="d-flex align-items-center">
                    <a href="#" class="btn btn-dark px-4 py-2 me-3">Get Started <i class="fas fa-arrow-right ms-2"></i></a>
                    <span class="text-muted small"><i class="far fa-clock me-1"></i> 5 minutes to complete application</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Subscription Comparison Section -->
<section class="comparison-section py-5">
    <div class="container">
        <h2 class="text-center mb-5">Rush Subscription VS Other Subscriptions VS Rental</h2>
        
        <div class="mb-4 text-center">
            <p class="lead">Rush car subscription is significantly different from traditional car rental and offers more advantages than other subscription services. Unlike traditional car rental or loans, Rush has no membership or high upfront fees. Our car subscription service is all-inclusive, flexible, and transparent, making it the best choice for personal use or fleet management, providing you with a convenient car experience.</p>
        </div>
        
        <div class="table-responsive">
            <table class="table comparison-table">
                <thead>
                    <tr>
                        <th>Features</th>
                        <th class="text-center bg-light">
                            <div class="d-flex justify-content-center align-items-center">
                                <span class="me-2 fw-bold">Rush</span>
                                <img src="{% static 'images/logo.png' %}" alt="Rush Logo" style="height: 30px;">
                            </div>
                        </th>
                        <th class="text-center">Other Subscriptions</th>
                        <th class="text-center">Traditional Rental</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Brand New Cars</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                        <td class="text-center"><i class="fas fa-check-circle text-success"></i></td>
                    </tr>
                    <tr>
                        <td>No Application, Registration, or Swap Fees</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                    <tr>
                        <td>No Credit Checks</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                    <tr>
                        <td>New Car Replacement</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                    <tr>
                        <td>Registration & Insurance</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                    <tr>
                        <td>Maintenance & Service</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                    <tr>
                        <td>No Long-Term Commitment</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                    <tr>
                        <td>No Hidden Fees</td>
                        <td class="text-center bg-light"><i class="fas fa-check-circle text-success"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                        <td class="text-center"><i class="fas fa-times-circle text-danger"></i></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- Subscription Cars Section -->
<div class="car-section">
    <h2>Available Cars</h2>
    <div class="car-list">
        <div class="car-item">
            <h3>Car 1</h3>
            <p>Description: This is a sample car description.</p>
            <p>Price: $100/day</p>
        </div>
        <div class="car-item">
            <h3>Car 2</h3>
            <p>Description: Another sample car description.</p>
            <p>Price: $150/day</p>
        </div>
        <div class="car-item">
            <h3>Car 3</h3>
            <p>Description: Yet another sample car description.</p>
            <p>Price: $200/day</p>
        </div>
    </div>
</div>

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterForm = document.getElementById('filterForm');
    const filterInputs = filterForm.querySelectorAll('select');
    
    filterInputs.forEach(input => {
        input.addEventListener('change', function() {
            const formData = new FormData(filterForm);
            const searchParams = new URLSearchParams(formData);
            window.location.href = `${window.location.pathname}?${searchParams.toString()}`;
        });
    });
});
</script>
{% endblock %}
{% endblock %}